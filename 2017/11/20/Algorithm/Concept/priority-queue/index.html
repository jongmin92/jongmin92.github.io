<!doctype html>
<html lang="ko"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><title>힙 응용 - 우선순위 큐 (Priority queue) - 92Hz</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="92Hz"><meta name="msapplication-TileImage" content="/img/favicon.svg"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="92Hz"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="description" content="우선순위 큐 (Priority queue) 란?큐는 여러개의 데이터를 넣을 수 있는 자료구조 입니다. 데이터가 넣고 뺄때는 First In First Out(FIFO) 구조를 가집니다. 우선순위 큐는 이러한 큐의 한종류로써 최대 우선순위 큐와 최소 우선순위 큐로 나뉩니다. 최대 우선순위 큐최대 우선순위 큐는 다음의 두가지 연산을 지원하는 자료구조 입니다."><meta property="og:type" content="article"><meta property="og:title" content="힙 응용 - 우선순위 큐 (Priority queue)"><meta property="og:url" content="https://jongmin92.github.io/2017/11/20/Algorithm/Concept/priority-queue/"><meta property="og:site_name" content="92Hz"><meta property="og:description" content="우선순위 큐 (Priority queue) 란?큐는 여러개의 데이터를 넣을 수 있는 자료구조 입니다. 데이터가 넣고 뺄때는 First In First Out(FIFO) 구조를 가집니다. 우선순위 큐는 이러한 큐의 한종류로써 최대 우선순위 큐와 최소 우선순위 큐로 나뉩니다. 최대 우선순위 큐최대 우선순위 큐는 다음의 두가지 연산을 지원하는 자료구조 입니다."><meta property="og:locale" content="ko_KR"><meta property="og:image" content="https://ws4.sinaimg.cn/large/006tNc79gy1flon6ap26oj31780syn7m.jpg"><meta property="og:image" content="https://ws2.sinaimg.cn/large/006tNc79gy1flonkg61l9j314a0ro7cl.jpg"><meta property="article:published_time" content="2017-11-20T09:00:00.000Z"><meta property="article:modified_time" content="2021-03-21T11:03:02.988Z"><meta property="article:author" content="KimJongMin"><meta property="article:tag" content="Algorithm"><meta property="article:tag" content="Sort"><meta property="article:tag" content="Heap sort"><meta property="article:tag" content="Priority queue"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="https://ws4.sinaimg.cn/large/006tNc79gy1flon6ap26oj31780syn7m.jpg"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://jongmin92.github.io/2017/11/20/Algorithm/Concept/priority-queue/"},"headline":"힙 응용 - 우선순위 큐 (Priority queue)","image":["https://ws4.sinaimg.cn/large/006tNc79gy1flon6ap26oj31780syn7m.jpg","https://ws2.sinaimg.cn/large/006tNc79gy1flonkg61l9j314a0ro7cl.jpg"],"datePublished":"2017-11-20T09:00:00.000Z","dateModified":"2021-03-21T11:03:02.988Z","author":{"@type":"Person","name":"KimJongMin"},"description":"우선순위 큐 (Priority queue) 란?큐는 여러개의 데이터를 넣을 수 있는 자료구조 입니다. 데이터가 넣고 뺄때는 First In First Out(FIFO) 구조를 가집니다. 우선순위 큐는 이러한 큐의 한종류로써 최대 우선순위 큐와 최소 우선순위 큐로 나뉩니다. 최대 우선순위 큐최대 우선순위 큐는 다음의 두가지 연산을 지원하는 자료구조 입니다."}</script><link rel="canonical" href="https://jongmin92.github.io/2017/11/20/Algorithm/Concept/priority-queue/"><link rel="alternate" href="/rss2.xml" title="92Hz" type="application/atom+xml"><link rel="icon" href="/img/favicon.svg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><script src="https://www.googletagmanager.com/gtag/js?id=UA-90389042-1" async></script><script>window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
    
        gtag('config', 'UA-90389042-1');</script><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script><meta name="generator" content="Hexo 5.4.0"></head><body class="is-2-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/logo.png" alt="92Hz" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="external nofollow noopener noreferrer" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a><a class="navbar-item is-hidden-tablet catalogue" title="카탈로그" href="javascript:;"><i class="fas fa-list-ul"></i></a><a class="navbar-item search" title="검색" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-8-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time datetime="2017-11-20T09:00:00.000Z" title="11/20/2017, 6:00:00 PM">2017-11-20</time>&nbsp;게시 됨</span><span class="level-item"><time datetime="2021-03-21T11:03:02.988Z" title="3/21/2021, 8:03:02 PM">2021-03-21</time>&nbsp;업데이트 됨</span><span class="level-item"><a class="link-muted" href="/categories/Algorithm/">Algorithm</a><span> / </span><a class="link-muted" href="/categories/Algorithm/Concept/">Concept</a></span><span class="level-item">6분안에 읽기 (약 860 단어)</span></div></div><h1 class="title is-3 is-size-4-mobile">힙 응용 - 우선순위 큐 (Priority queue)</h1><div class="content"><h3><span id="우선순위-큐-priority-queue-란">우선순위 큐 (Priority queue) 란?</span></h3><p>큐는 여러개의 데이터를 넣을 수 있는 자료구조 입니다. 데이터가 넣고 뺄때는 <strong>First In First Out(FIFO) 구조</strong>를 가집니다.</p>
<p><strong><code>우선순위 큐</code>는 이러한 큐의 한종류로써 <code>최대 우선순위 큐</code>와 <code>최소 우선순위 큐</code>로 나뉩니다.</strong></p>
<h3><span id="최대-우선순위-큐">최대 우선순위 큐</span></h3><p>최대 우선순위 큐는 다음의 두가지 연산을 지원하는 자료구조 입니다. (최소 우선순위 큐는 EXTRACT-MAX 대신 EXTRACT-MIN을 지원하는 자료구조입니다.)</p>
<ol>
<li><strong>INSERT(x)</strong> : 새로운 원소 x를 삽입</li>
<li><strong>EXTRACT_MAX()</strong> : 최대값을 삭제하고 반환</li>
</ol>
<p>MAX HEAP을 이용해서 최대 우선순위 큐를 구현할 수 있습니다.</p>
<h3><span id="insert">INSERT</span></h3><p><img src="https://ws4.sinaimg.cn/large/006tNc79gy1flon6ap26oj31780syn7m.jpg" alt="INSERT 과정"></p>
<p>위의 그림은 MAX HEAP의 형태로 저장되어 있는 우선순위 큐 입니다. 현재 heap은</p>
<ol>
<li>complete binary tree</li>
<li>max heap property<br>조건을 만족하기 때문에 이를 유지하면서 INSERT 연산을 하기 위해서는 고려할 사항들이 있습니다.</li>
</ol>
<p>INSERT는 새로운 노드를 추가해야하는데 <strong>complete binary tree</strong> 를 만족하기 위해서는 가장 마지막 레벨의 leaf에 추가 될 수 밖에 없습니다. 그리고 새로운 노드가 추가된 후 <strong>max heap property</strong>를 만족하기 위해서는 max-heapify 연산이 필요합니다.<br>INSERT의 의사 코드는 다음과 같습니다.</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">MAX-HEAP-<span class="built_in">INSERT</span>(A, key)&#123;</span><br><span class="line">    heap_size = heap_size + <span class="number">1</span>;</span><br><span class="line">    A[heap_size] = key;</span><br><span class="line">    i = heap_size;</span><br><span class="line">    <span class="keyword">while</span>(i &gt; <span class="number">1</span> <span class="keyword">and</span> A[<span class="built_in">PARENT</span>(i)] &lt; A[i])&#123;</span><br><span class="line">        exchange A[i] <span class="keyword">and</span> A[<span class="built_in">PARENT</span>(i)];</span><br><span class="line">        i = <span class="built_in">PARENT</span>(i);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>위의 코드에서 A는 heap의 사이즈를 1증가 시키고, 그 자리에 새로운 key값을 넣습니다. i는 새로 추가된 노드의 인덱스입니다.<br>그 후 while 문에서 i &gt; 1 (root 노드가 아니라는 의미) 이며, A[PARENT(i)] &lt; A[i] (부모 노드에 저장된 값보다 크다는 의미) 라면 부모 노드와 값을 교환합니다.</p>
<p>즉, 루트 노드가 될 때까지 혹은 자신의 부모 노드보다 작을 때 까지 계속해서 교환연산을 진행합니다. 따라서 시간 복잡도는 트리의 높이에 비례하게 되고, heap은 complete binary tree이므로 <code>O(nlogn)</code>입니다.</p>
<h3><span id="extract_max">EXTRACT_MAX</span></h3><p><img src="https://ws2.sinaimg.cn/large/006tNc79gy1flonkg61l9j314a0ro7cl.jpg" alt="EXTRACT_MAX 과정"></p>
<p>위의 그림은 EXTRACT_MAX 과정을 나타내고 있습니다. heap은 complete binary tree 성질을 유지하기 위해서 아무 노드나 삭제하는 것이 아니라 마지막 노드를 삭제하게 됩니다. 이때 루트 노드와 마지막 노드의 자리를 변경해 마지막 노드를 삭제 후 max-heapify를 통해 다시 max heap property를 만족하도록 만들 수 있습니다.<br>HEAP-EXTRACT-MAX의 의사 코드는 다음과 같습니다.</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">HEAP-EXTRACT-<span class="built_in">MAX</span>(A)&#123;</span><br><span class="line">    <span class="keyword">if</span> heap-size[A] &lt; <span class="number">1</span></span><br><span class="line">        then error <span class="string">&quot;heap underflow&quot;</span></span><br><span class="line">    max &lt;- A[<span class="number">1</span>]</span><br><span class="line">    A[<span class="number">1</span>] &lt;- A[heap-size[A]]</span><br><span class="line">    heap-size[A] &lt;- heap-size[A] - <span class="number">1</span></span><br><span class="line">    MAX-<span class="built_in">HEAPIFY</span>(A, <span class="number">1</span>)</span><br><span class="line">    <span class="keyword">return</span> max</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3><span id="c로-구현하기">C++로 구현하기</span></h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">max_heap_insert</span><span class="params">(<span class="keyword">int</span> a[], <span class="keyword">int</span> size, <span class="keyword">int</span> key)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i, tmp;</span><br><span class="line"></span><br><span class="line">    size = size + <span class="number">1</span>;</span><br><span class="line">    a[size] = key;</span><br><span class="line"></span><br><span class="line">    i = size;</span><br><span class="line">    <span class="keyword">while</span> (i &gt; <span class="number">1</span> &amp;&amp; a[i / <span class="number">2</span>] &lt; a[i]) &#123;</span><br><span class="line">        tmp = a[i / <span class="number">2</span>];</span><br><span class="line">        a[i / <span class="number">2</span>] = a[i];</span><br><span class="line">        a[i] = tmp;</span><br><span class="line">        i = i / <span class="number">2</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">heap_extract_max</span><span class="params">(<span class="keyword">int</span> a[], <span class="keyword">int</span> size)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (size &lt; <span class="number">1</span>) &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;heap underflow\n&quot;</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> max = a[<span class="number">1</span>];</span><br><span class="line">    a[<span class="number">1</span>] = a[size];</span><br><span class="line">    <span class="built_in">max_heapify</span>(a, size<span class="number">-1</span>, <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">return</span> max;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>출처 : 2015 봄학기 알고리즘 - 부경대 권오흠 교수님</p>
</div><div class="article-licensing box"><div class="licensing-title"><p>힙 응용 - 우선순위 큐 (Priority queue)</p><p><a href="https://jongmin92.github.io/2017/11/20/Algorithm/Concept/priority-queue/">https://jongmin92.github.io/2017/11/20/Algorithm/Concept/priority-queue/</a></p></div><div class="licensing-meta level is-mobile"><div class="level-left"><div class="level-item is-narrow"><div><h6>Author</h6><p>KimJongMin</p></div></div><div class="level-item is-narrow"><div><h6>Posted on</h6><p>2017-11-20</p></div></div><div class="level-item is-narrow"><div><h6>Updated on</h6><p>2021-03-21</p></div></div><div class="level-item is-narrow"><div><h6>Licensed under</h6><p><a class="icon" rel="external nofollow noopener noreferrer" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a><a class="icon" rel="external nofollow noopener noreferrer" target="_blank" title="Attribution" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a><a class="icon" rel="external nofollow noopener noreferrer" target="_blank" title="Noncommercial" href="https://creativecommons.org/licenses/by-nc/4.0/"><i class="fab fa-creative-commons-nc"></i></a></p></div></div></div></div></div><div class="article-tags is-size-7 mb-4"><span class="mr-2">#</span><a class="link-muted mr-2" rel="tag" href="/tags/Algorithm/">Algorithm</a><a class="link-muted mr-2" rel="tag" href="/tags/Sort/">Sort</a><a class="link-muted mr-2" rel="tag" href="/tags/Heap-sort/">Heap sort</a><a class="link-muted mr-2" rel="tag" href="/tags/Priority-queue/">Priority queue</a></div><!--!--></article></div><!--!--><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/2017/12/14/Etc/prepare-for-employment/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">신입 개발자의 취준 후기</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/2017/11/19/Algorithm/Concept/heap-sort-2/"><span class="level-item">힙 정렬 (Heap sort) - 2</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><div class="card"><div class="card-content"><h3 class="title is-5">댓글</h3><div id="disqus_thread"><noscript>Please enable JavaScript to view the <a target="_blank" rel="noopener" href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></div><script>var disqus_config = function () {
            this.page.url = 'https://jongmin92.github.io/2017/11/20/Algorithm/Concept/priority-queue/';
            this.page.identifier = '2017/11/20/Algorithm/Concept/priority-queue/';
        };
        (function() {
            var d = document, s = d.createElement('script');  
            s.src = '//' + 'https-jongmin92-github-io' + '.disqus.com/embed.js';
            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
        })();</script></div></div></div><!--!--><div class="column column-right is-4-tablet is-4-desktop is-4-widescreen  order-3 is-sticky"><div class="card widget" id="toc" data-type="toc"><div class="card-content"><div class="menu"><h3 class="menu-label">카탈로그</h3><ul class="menu-list"><li><a class="level is-mobile" href="#"><span class="level-left"><span class="level-item">1</span><span class="level-item">우선순위 큐 (Priority queue) 란?</span></span></a></li><li><a class="level is-mobile" href="#"><span class="level-left"><span class="level-item">2</span><span class="level-item">최대 우선순위 큐</span></span></a></li><li><a class="level is-mobile" href="#"><span class="level-left"><span class="level-item">3</span><span class="level-item">INSERT</span></span></a></li><li><a class="level is-mobile" href="#"><span class="level-left"><span class="level-item">4</span><span class="level-item">EXTRACT_MAX</span></span></a></li><li><a class="level is-mobile" href="#"><span class="level-left"><span class="level-item">5</span><span class="level-item">C++로 구현하기</span></span></a></li></ul></div></div><style>#toc .menu-list > li > a.is-active + .menu-list { display: block; }#toc .menu-list > li > a + .menu-list { display: none; }</style><script src="/js/toc.js" defer></script></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/logo.png" alt="92Hz" height="28"></a><p class="is-size-7"><span>&copy; 2021 KimJongMin</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="external nofollow noopener noreferrer">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="external nofollow noopener noreferrer">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="external nofollow noopener noreferrer" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="external nofollow noopener noreferrer" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="external nofollow noopener noreferrer" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("ko");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="맨 위로" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="입력 하세요..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"입력 하세요...","untitled":"(제목 없음)","posts":"포스트","pages":"페이지","categories":"카테고리","tags":"태그"});
        });</script></body></html>